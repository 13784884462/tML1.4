--- src/Terraria/Terraria/ID/NPCID.cs
+++ src/tModLoader/Terraria/ID/NPCID.cs
@@ -1,7 +_,10 @@
 using Microsoft.Xna.Framework;
 using ReLogic.Reflection;
 using System;
+using ReLogic.Reflection;
+using System;
 using System.Collections.Generic;
+using Terraria.ModLoader;
 
 namespace Terraria.ID
 {
@@ -42,7 +_,7 @@
 				}
 			}
 
-			public static SetFactory Factory = new SetFactory(663);
+			public static SetFactory Factory = new SetFactory(NPCLoader.NPCCount);
 			public static Dictionary<int, int> SpecialSpawningRules = new Dictionary<int, int> {
 				{ 259, 0 },
 				{ 260, 0 },
